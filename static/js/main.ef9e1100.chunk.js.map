{"version":3,"sources":["icons sync /.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","hooks/useUpdate.tsx","hooks/useRecords.tsx","views/Money/CategorySection.tsx","views/Money/NoteSection.tsx","views/Money/NumberPadSection/Wrapper.tsx","views/Money/NumberPadSection.tsx","views/Money/NumberPadSection/generateOutput.tsx","lib/createId.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","views/Money.tsx","views/NoMatch.tsx","views/Statistics.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tag.tsx","views/Tags.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","classnames","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","useUpdate","fn","deps","count","useRecords","useState","records","setRecords","JSON","parse","window","localStorage","getItem","setItem","stringify","addRecord","newRecord","amount","alert","tagIds","length","record","createdAt","Date","toISOString","section","CategorySection","categoryList","categoryMap","category","value","c","onClick","onChange","NoteSection","note","refInput","type","placeholder","defaultValue","onBlur","NumberPadSection","toString","output","_setOutput","text","target","textContent","split","concat","indexOf","newOutput","slice","parseFloat","setOutput","generateOutput","onOk","parseInt","createId","useTags","tags","setTags","localTags","findTag","filter","tag","updateTag","obj","findTagIndex","result","i","deleteTag","AddTag","tagName","prompt","getName","t","TagsSection","selectedTagIds","tagId","MyLayout","CategoryWrapper","defaultFormData","Money","selected","setSelected","NoMatch","Item","Header","h3","Statistics","setCategory","selectedRecords","r","hash","key","dayjs","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","Center","Space","Topbar","header","LabelWrapper","Tag","idString","useParams","history","useHistory","goBack","tagContent","TagList","ol","Tags","AppWrapper","App","exact","path","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef9e1100.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 40,\n\t\"./left.svg\": 41,\n\t\"./money.svg\": 42,\n\t\"./right.svg\": 43,\n\t\"./tag.svg\": 44\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"chart\\\"><defs><style type=\\\"text/css\\\">@font-face { font-family: feedback-iconfont; src: url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix\\\") format(\\\"embedded-opentype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2\\\") format(\\\"woff2\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff\\\") format(\\\"woff\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf\\\") format(\\\"truetype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont\\\") format(\\\"svg\\\"); }</style></defs><path d=\\\"M1024.252 0l-209.92 23.04 69.12 69.12-227.84 278.528-236.544-218.624c-15.872-14.848-40.96-14.848-57.344-0.512L14.076 465.408c-17.408 15.872-18.944 43.008-3.072 60.416 8.192 9.216 19.968 13.824 31.744 13.824 10.24 0 20.48-3.584 28.672-10.752l318.464-287.744 241.152 222.72c8.704 8.192 20.48 11.776 31.744 11.264 11.776-1.024 22.528-6.656 30.208-15.36l250.88-306.688 57.344 57.344L1024.252 0z m-890.88 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V645.12c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v348.16c0 16.896-13.824 30.72-30.72 30.72z\\\" p-id=\\\"3908\\\" /><path d=\\\"M420.092 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V440.32c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v552.96c0 16.896-13.824 30.72-30.72 30.72z m286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V593.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v399.36c0 16.896-13.824 30.72-30.72 30.72z m286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V337.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v655.36c0 16.896-13.824 30.72-30.72 30.72z\\\" p-id=\\\"3909\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"left\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M512 896.00000001c-211.73 0-384-172.26-384.00000001-384.00000001S300.27 127.99999999 512 127.99999999 896 300.26 896.00000001 512s-172.27 384-384.00000001 384.00000001m0 63.99999999C759.42 960 960 759.42 960 512s-200.58-448-448-448-448 200.58-448 448S264.58 960 512 960z\\\" p-id=\\\"599\\\" /><path d=\\\"M363 534.7c0.14 0.14 0.32 0.17 0.45 0.3L544 715.57a32 32 0 0 0 45.26-45.25L430.93 512 589.25 353.68A32 32 0 0 0 544 308.43L363.42 489c-0.13 0.13-0.31 0.16-0.45 0.3a32.23 32.23 0 0 0 0 45.4z\\\" p-id=\\\"600\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"money\\\"><defs><style type=\\\"text/css\\\">@font-face { font-family: feedback-iconfont; src: url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix\\\") format(\\\"embedded-opentype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2\\\") format(\\\"woff2\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff\\\") format(\\\"woff\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf\\\") format(\\\"truetype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont\\\") format(\\\"svg\\\"); }</style></defs><path d=\\\"M447.488 764.928l-197.632 0q-27.648-2.048-42.496-23.04t-17.92-46.592q3.072-25.6 17.92-41.984t42.496-18.432l197.632 0 0-64.512-197.632-1.024q-27.648-2.048-42.496-19.456t-17.92-44.032q3.072-25.6 17.92-41.984t42.496-18.432l147.456 0-137.216-241.664q-10.24-12.288-19.456-31.232t-8.192-41.472q5.12-28.672 20.48-46.592t57.344-23.04q24.576 2.048 44.032 16.896t31.744 32.256l155.648 284.672 171.008-286.72q12.288-17.408 31.744-30.72t44.032-16.384q15.36 1.024 28.16 4.096t22.528 10.24 16.384 20.48 9.728 34.816q0 29.696-20.48 56.32l-158.72 258.048 150.528 0q26.624 2.048 41.984 18.432t17.408 41.984q-2.048 26.624-17.92 45.056t-42.496 20.48l-195.584 1.024 0 62.464 196.608 0q26.624 2.048 41.984 20.48t17.408 44.032q-2.048 26.624-17.408 44.544t-41.984 19.968l-196.608-1.024 0 108.544q-4.096 87.04-95.232 87.04-45.056 0-70.144-21.504t-27.136-65.536l0-106.496z\\\" p-id=\\\"3033\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"right\\\"><defs><style type=\\\"text/css\\\"></style></defs><path d=\\\"M512 128c211.73 0 384 172.26 384 384S723.73 896 512 896 128 723.74 128 512s172.27-384 384-384m0-64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.58 448-448S759.42 64 512 64z\\\" p-id=\\\"2387\\\" /><path d=\\\"M661 489.3c-0.14-0.14-0.32-0.17-0.45-0.3L480 308.43a32 32 0 0 0-45.26 45.25L593.07 512 434.75 670.32A32 32 0 0 0 480 715.57L660.58 535c0.13-0.13 0.31-0.16 0.45-0.3a32.23 32.23 0 0 0 0-45.4z\\\" p-id=\\\"2388\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" id=\\\"tag\\\"><defs><style type=\\\"text/css\\\">@font-face { font-family: feedback-iconfont; src: url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.eot?#iefix\\\") format(\\\"embedded-opentype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff2\\\") format(\\\"woff2\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.woff\\\") format(\\\"woff\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.ttf\\\") format(\\\"truetype\\\"), url(\\\"//at.alicdn.com/t/font_1031158_1uhr8ri0pk5.svg#iconfont\\\") format(\\\"svg\\\"); }</style></defs><path d=\\\"M980.2 488.5V88.7c0-22.6-18.3-41-41-41H535.7c-13 0-24.6 6.1-32.1 15.5l-438 438c-20.7 25-20.8 61.2-0.4 86.3L440 962.4c25.3 21.4 62.4 21.4 87.7 0.1l26.3-26.3c0.4-0.4 0.9-0.9 1.3-1.4l43.5-43.5L229.5 522c-16-16-16-41.9 0-57.9s41.9-16 57.9 0l369.3 369.3 311.6-311.6c9.2-9.1 13.1-21.5 11.9-33.3z m-308.5 3.3c-77.3 0-140-62.7-140-140s62.7-140 140-140 140 62.7 140 140-62.7 140-140 140z\\\" p-id=\\\"4217\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport classnames from 'classnames'\r\n\r\nlet importAll = (requireContext:__WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);//写了这句代码就能使用importAll\r\n    try {\r\n        importAll(require.context('icons',true,/\\.svg$/))\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n\r\ntype Props ={\r\n    name?:string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props:Props) => {\r\n    const {name,children,className,...rest} = props\r\n    return (\r\n        <svg className={classnames('icon',className)} {...rest}>\r\n            {props.name && <use xlinkHref={'#' + props.name} />}\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default Icon;","import { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Icon from './Icon'\r\n\r\nconst NavWrapper = styled.nav`\r\n  background:white;\r\n  line-height:24px;\r\n  box-shadow:0 0 3px rgba(0,0,0,0.25);\r\n  > ul{\r\n    display: flex;\r\n    > li{\r\n      width:33.33333333333333%;\r\n      text-align: center;\r\n      > a{\r\n        display: flex;\r\n        flex-direction:column;\r\n        padding:4px 0;\r\n        justify-content: center;\r\n        align-items:center;\r\n        .icon{\r\n        width:24px;\r\n        height:24px;\r\n        }\r\n        &.selected{\r\n          color:red;\r\n          .icon{\r\n            fill:red;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <NavWrapper>\r\n          <ul>\r\n            <li>\r\n              <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n                <Icon name='tag' />\r\n                标签\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/money\" activeClassName=\"selected\">\r\n                <Icon name='money' />\r\n                记账\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n              <Icon name='chart' />\r\n                统计\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </NavWrapper>\r\n    )\r\n}\r\nexport default Nav;","import React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport Nav from './Nav';\r\n\r\nconst Wrapper = styled.div`\r\n  height:100vh;\r\n  display: flex;\r\n  flex-direction:column;\r\n`;\r\nconst Main = styled.div`\r\n  flex-grow:1;\r\n  overflow:auto;\r\n  &::-webkit-scrollbar {\r\n  display: none; \r\n}\r\n`;\r\ntype Props = {\r\n  className?:string,\r\n  scrollTop?:number\r\n}\r\nconst Layout:React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null)\r\n  useEffect(()=>{\r\n    setTimeout(() => {\r\n      if(!mainRef.current){return}\r\n    mainRef.current.scrollTop = props.scrollTop!\r\n    }, 0);\r\n  },[props.scrollTop])\r\n    return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n    )\r\n}\r\nLayout.defaultProps ={\r\n  scrollTop:0\r\n}\r\nexport default Layout;","import { useEffect, useRef } from \"react\"\r\n\r\nconst useUpdate = (fn:()=>void,deps:any[]) => {\r\n    const count = useRef(0)\r\nuseEffect(() => {\r\n    count.current += 1\r\n})\r\nuseEffect(() => {\r\n    if(count.current > 1){  \r\n       fn()}\r\n},[fn,deps])\r\n}\r\n\r\nexport {useUpdate}","import { useEffect, useState } from \"react\"\r\nimport { useUpdate } from \"./useUpdate\"\r\n\r\nexport type RecordItem = {\r\n    tagIds:number[],\r\n    note:string,\r\n    category:'-' | '+',\r\n    amount:number,\r\n    createdAt:string\r\n}\r\ntype newRecordItem = {\r\n    tagIds:number[],\r\n    note:string,\r\n    category:'-' | '+',\r\n    amount:number,\r\n}\r\nconst useRecords = () => {\r\n    const [records,setRecords] = useState<RecordItem[]>([])\r\n    useEffect(()=>{\r\n        setRecords(JSON.parse(window.localStorage.getItem('records')||'[]'),)\r\n    },[])\r\n    const addRecord = (newRecord:newRecordItem) => {\r\n        if(newRecord.amount <= 0){\r\n            alert('请输入金额')\r\n            return false\r\n        }\r\n        if(newRecord.tagIds.length === 0){\r\n            alert('请选择标签')\r\n            return false\r\n        }\r\n        const record = {...newRecord,createdAt:(new Date()).toISOString()}\r\n        setRecords([...records,record])\r\n        return true\r\n    }\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('records',JSON.stringify(records))\r\n    },records)\r\n    return {records,addRecord}\r\n}\r\nexport {useRecords}","import { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  font-size: 24px;\r\n  > ul{\r\n    display: flex;\r\n    > li{\r\n      width:50%;\r\n      text-align: center;\r\n      padding:16px 0;\r\n      position: relative;\r\n      &.selected::after{\r\n        content:'';\r\n        display: block;\r\n        height: 3px;\r\n        background:#333;\r\n        position: absolute;\r\n        bottom:0;\r\n        width: 100%;\r\n        left: 0;\r\n      }\r\n    }\r\n  }\r\n`\r\ntype Props = {\r\n  value:'-' | '+';\r\n  onChange:(value:'-' | '+')=>void\r\n}\r\nconst CategorySection:React.FC<Props> = (props) => {\r\n  const [categoryList] = useState<('-'|'+')[]>(['-','+'])\r\n  const categoryMap = {'-':'支出','+':'收入'}\r\n  const category = props.value\r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        {categoryList.map(c => \r\n          <li key={c} className={category === c ? 'selected' : ''} onClick={()=>{props.onChange(c)}}>\r\n            {categoryMap[c]}\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {CategorySection}","import { useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  background:#f5f5f5;\r\n  padding:0 16px;\r\n  font-size:14px;\r\n  > label{\r\n    display: flex;\r\n    align-items: center;\r\n    > span{\r\n      margin-right:16px;\r\n      white-space:nowrap;\r\n    }\r\n    >input{\r\n      display: block;\r\n      width:100%;\r\n      height:72px;\r\n      background:none;\r\n      border:none;\r\n    }\r\n  }\r\n`\r\ntype Props = {\r\n  value:string;\r\n  onChange:(value:string)=>void\r\n}\r\nconst NoteSection:React.FC<Props> = (props) => {\r\n  const note = props.value\r\n  const refInput = useRef<HTMLInputElement>(null)\r\n  const onBlur = () => {\r\n    if(refInput.current){\r\n      props.onChange(refInput.current.value)\r\n    }\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <label>\r\n        <span>备注</span>\r\n        <input type=\"text\" placeholder=\"在这里添加备注\" defaultValue={note} ref={refInput} onBlur={onBlur}/>\r\n      </label>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {NoteSection};","import styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.section`\r\n  > .output{\r\n    background:white;\r\n    font-size: 36px;\r\n    line-height:72px;\r\n    text-align:right;\r\n    padding:0 16px;\r\n    box-shadow:inset 0 -5px 5px -5px rgba(0,0,0,0.25),inset 0 5px 5px -5px rgba(0,0,0,0.25)\r\n  }\r\n  > .pad{\r\n    > button{\r\n      font-size: 18px;\r\n      float: left;\r\n      width:25%;\r\n      height: 64px;\r\n      border:none;\r\n      &.ok{\r\n        float: right;\r\n        height: 128px;\r\n      }\r\n      &.zero{\r\n        width: 50%;\r\n      }\r\n      &:nth-child(1){\r\n        background: #F2F2F2;\r\n      }\r\n      &:nth-child(2),&:nth-child(5){\r\n        background: #E0E0E0;\r\n      }\r\n      &:nth-child(3),&:nth-child(6),&:nth-child(9){\r\n        background: #D3D3D3;\r\n      }\r\n      &:nth-child(4),&:nth-child(7),&:nth-child(10){\r\n        background: #C1C1C1;\r\n      }\r\n      &:nth-child(8),&:nth-child(11),&:nth-child(13){\r\n        background: #B8B8B8;\r\n      }\r\n      &:nth-child(12){\r\n        background: #8B8B8B;\r\n      }\r\n      &:nth-child(14){\r\n        background: #A9A9A9;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport {Wrapper}","import React, { useState } from \"react\";\r\nimport { generateOutput } from \"./NumberPadSection/generateOutput\";\r\nimport { Wrapper } from \"./NumberPadSection/Wrapper\";\r\n\r\ntype Props = {\r\n  value:number;\r\n  onChange:(value:number)=>void;\r\n  onOk?:()=>void\r\n}\r\nconst NumberPadSection:React.FC<Props> = (props) => {\r\n  // const output = props.value.toString()\r\n  const [output,_setOutput] = useState(props.value.toString())\r\n  const setOutput = (output:string) => {\r\n    let newOutput:string\r\n    if(output.length>16){\r\n      newOutput = output.slice(0,16)\r\n    }else if(output.length === 0){\r\n      newOutput = '0'\r\n    }else{\r\n      newOutput = output\r\n    }\r\n    _setOutput(newOutput)\r\n    props.onChange(parseFloat(newOutput))\r\n  }\r\n  const onClickButtonWrapper = (e:React.MouseEvent) => {\r\n    const text = (e.target as HTMLButtonElement).textContent\r\n    if(text === null){return}\r\n    if(text === 'OK'){\r\n      if(props.onOk){\r\n        props.onOk()\r\n      }\r\n      return\r\n    }\r\n    if('0123456789.'.split('').concat(['删除','清空']).indexOf(text)>=0){\r\n      setOutput(generateOutput(text,output))\r\n    }\r\n  }\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"output\">\r\n        {output}\r\n      </div>\r\n      <div className=\"pad clearfix\" onClick={onClickButtonWrapper}>\r\n        <button>1</button>\r\n        <button>2</button>\r\n        <button>3</button>\r\n        <button>删除</button>\r\n        <button>4</button>\r\n        <button>5</button>\r\n        <button>6</button>\r\n        <button>清空</button>\r\n        <button>7</button>\r\n        <button>8</button>\r\n        <button>9</button>\r\n        <button className=\"ok\">OK</button>\r\n        <button className=\"zero\">0</button>\r\n        <button className=\"dot\">.</button>\r\n      </div>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {NumberPadSection}","const generateOutput = (text:string,output = '0') => {\r\n    switch(text){\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n        case '3':\r\n        case '4':\r\n        case '5':\r\n        case '6':\r\n        case '7':\r\n        case '8':\r\n        case '9':\r\n          if(output === '0'){\r\n            return text\r\n          }else{\r\n            return output + text\r\n          }\r\n        case '.':\r\n          if(output.indexOf('.')>= 0){return output}\r\n            return output + '.'\r\n        case '删除':\r\n          if(output.length === 1){\r\n            return ''\r\n          }else{\r\n            return output.slice(0,output.length - 1) || ''\r\n          }\r\n        case '清空':\r\n            return '';\r\n        default:\r\n            return ''\r\n    }\r\n}\r\nexport {generateOutput}\r\n","let id = parseInt(window.localStorage.getItem('idMax')||'0')\r\nconst createId = () => {\r\n    id+=1\r\n    window.localStorage.setItem('idMax',JSON.stringify(id))\r\n    return id\r\n}\r\nexport {createId}","import { useUpdate } from \"hooks/useUpdate\";\r\nimport { createId } from \"lib/createId\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst useTags = () => {\r\n    const [tags,setTags] = useState<{id:number,name:string}[]>([])\r\n\r\n    useEffect(() => {\r\n        let localTags = JSON.parse(window.localStorage.getItem('tags') ||  '[]') \r\n        if(localTags.length === 0){\r\n            localTags = [\r\n                {id:createId(),name:'衣'},\r\n                {id:createId(),name:'食'},\r\n                {id:createId(),name:'住'},\r\n                {id:createId(),name:'行'}\r\n            ]\r\n        }\r\n        setTags(localTags)\r\n    },[])\r\n\r\n    useUpdate(()=>{\r\n        window.localStorage.setItem('tags',JSON.stringify(tags))\r\n    },tags)\r\n\r\n    const findTag = (id:number) => tags.filter(tag => tag.id === id)[0]\r\n    const findTagIndex = (id:number) => {\r\n        let result = -1\r\n        for(let i= 0;i < tags.length;i++){\r\n            if(tags[i].id === id){\r\n                result = i\r\n                break\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    const updateTag = (id:number,obj:{name:string}) => {\r\n        setTags(tags.map(tag => tag.id === id ? {id,name:obj.name}:tag))\r\n    } \r\n    const deleteTag = (id:number) => {\r\n        setTags(tags.filter(tag=>tag.id !== id))\r\n    }\r\n    const AddTag = () => {\r\n        const tagName = window.prompt('新标签名称为')\r\n        if(tagName !== null && tagName !== ''){\r\n          setTags([...tags,{id:createId(),name:tagName}])\r\n        }\r\n      }\r\n    const getName = (id:number) => {\r\n        const tag = tags.filter(t => t.id === id)[0]\r\n        return tag? tag.name:''\r\n    }\r\n    return {\r\n        tags,\r\n        setTags,\r\n        findTag,\r\n        updateTag,\r\n        findTagIndex,\r\n        deleteTag,\r\n        AddTag,\r\n        getName\r\n    }\r\n}\r\nexport {useTags}\r\n","import styled from \"styled-components\";\r\nimport React from 'react';\r\nimport { useTags } from \"hooks/useTags\";\r\n\r\nconst Wrapper = styled.section`\r\n  background: #FFFFFF;\r\n  flex-grow:1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content:flex-end;\r\n  align-items: flex-start;\r\n  padding:0 16px;\r\n  > ol{\r\n    margin:0 -12px;\r\n    > li{\r\n      background: #D9D9D9;\r\n      border-radius: 18px;\r\n      display:inline-block;\r\n      padding:3px 18px;\r\n      font-size:14px;\r\n      margin:8px 12px;\r\n      &.selected{\r\n        background:#f60;\r\n      }\r\n    }\r\n  }\r\n  > button{\r\n    background:none;\r\n    border:none;\r\n    padding:2px 4px;\r\n    border-bottom:1px solid #333;\r\n    color:#666;\r\n    margin-top: 8px;\r\n  }\r\n`\r\ntype Props = {\r\n  value:number[];\r\n  onChange:(selected:number[])=>void\r\n}\r\nconst TagsSection:React.FunctionComponent<Props>= (props) => {\r\n  const {tags,AddTag} = useTags()\r\n  const selectedTagIds = props.value\r\n  const onToggleTag = (tagId:number) => {\r\n    const index = selectedTagIds.indexOf(tagId)\r\n    if(index >= 0){\r\n      //如果tag已被选中，就复制所有没有被选中的tag，作为新的selectedTag\r\n      props.onChange(selectedTagIds.filter(t=>t!==tagId))\r\n    }else{\r\n      props.onChange([...selectedTagIds,tagId])\r\n    }\r\n  }\r\n  const getClass = (tagId:number) => selectedTagIds.indexOf(tagId) >= 0 ? 'selected' : ''\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map(tag=>\r\n          <li key={tag.id} onClick={()=>{onToggleTag(tag.id)}} className={getClass(tag.id)}>{tag.name}</li>\r\n        )}\r\n      </ol>\r\n      <button onClick={AddTag}>新增标签</button>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {TagsSection};","import Layout from 'components/Layout';\r\nimport { useRecords } from 'hooks/useRecords';\r\nimport React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { CategorySection } from './Money/CategorySection';\r\nimport { NoteSection } from './Money/NoteSection';\r\nimport { NumberPadSection } from './Money/NumberPadSection';\r\nimport { TagsSection } from './Money/TagsSection';\r\n\r\nconst MyLayout = styled(Layout)`\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst CategoryWrapper = styled.div`\r\n   background:#c4c4c4;\r\n`\r\ntype Category = '-' | '+'\r\n\r\nconst defaultFormData = {\r\n  tagIds:[] as number[],\r\n    note:'',\r\n    category:'-' as Category,\r\n    amount:0\r\n}\r\n\r\nfunction Money() {\r\n  const [selected,setSelected] = useState(defaultFormData)\r\n  const onChange = (obj:Partial<typeof selected>)=> {\r\n    setSelected({\r\n      ...selected,\r\n      ...obj\r\n    })\r\n  }\r\n  const {addRecord} = useRecords()\r\n  const submit = () => {\r\n    if(addRecord(selected)){\r\n      alert('保存成功')\r\n      setSelected(defaultFormData)\r\n    }\r\n    \r\n    \r\n  }\r\n    return (\r\n      <MyLayout scrollTop={9999}>\r\n        <TagsSection value={selected.tagIds} \r\n                      onChange={tagIds=>onChange({tagIds})}/>\r\n        <NoteSection value={selected.note}\r\n                      onChange={(note)=>onChange({note})}/>\r\n        <CategoryWrapper>\r\n          <CategorySection value={selected.category}\r\n                            onChange={(category)=>onChange({category})}/>\r\n        </CategoryWrapper>\r\n        \r\n        <NumberPadSection value={selected.amount}\r\n                          onChange={(amount)=>onChange({amount\r\n                          })}\r\n                          onOk={submit}/>\r\n      </MyLayout>\r\n    )\r\n  }\r\n\r\nexport default Money;","import React from 'react';\r\n\r\nfunction NoMatch() {\r\n    return <h2>输入的路径不存在</h2>;\r\n  }\r\n\r\nexport default NoMatch;","import Layout from 'components/Layout';\r\nimport { RecordItem, useRecords } from 'hooks/useRecords';\r\nimport { useTags } from 'hooks/useTags';\r\nimport React, { ReactNode, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { CategorySection } from './Money/CategorySection';\r\nimport dayjs from 'dayjs'\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background:white;\r\n`\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  background:white;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n\r\n  > .note{\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color:#999;\r\n  }\r\n`\r\nconst Header = styled.h3`\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n`\r\nfunction Statistics() {\r\n  const [category,setCategory] = useState<'-'| '+'>('-')\r\n  const {records} = useRecords()\r\n  const {getName} = useTags()\r\n  const selectedRecords = records.filter(r => r.category === category)\r\n  const hash:{[k:string]:RecordItem[]} = {}\r\n\r\n  selectedRecords.forEach(r => {\r\n    const key = dayjs(r.createdAt).format('YYYY-MM-DD')\r\n    if(!(key in hash)){\r\n      hash[key] = []\r\n    }\r\n    hash[key].push(r)\r\n  })\r\n  const array = Object.entries(hash).sort((a,b) =>{\r\n    if(a[0] === b[0])return 0\r\n    if(a[0] > b[0])return -1\r\n    if(a[0] < b[0])return 1\r\n    return 0  \r\n    }\r\n  )\r\n    return (\r\n      <Layout>\r\n        <CategoryWrapper>\r\n          <CategorySection value={category}\r\n            onChange={value => setCategory(value)}/>\r\n        </CategoryWrapper>\r\n        {array.map(([date,record]) => <div key={date}>\r\n          <Header>\r\n            {date}\r\n          </Header>\r\n          <div>\r\n            {record.map(r => {\r\n              return <Item key={r.createdAt}>\r\n                <div className=\"tags\">\r\n                  {r.tagIds\r\n                    .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                    .reduce((result,span,index,array)=>\r\n                    result.concat(index < array.length-1?[span,',']:[span]),[] as ReactNode[])\r\n                  }\r\n                </div>\r\n                {r.note && <div className=\"note\">\r\n                  {r.note}\r\n                </div>}\r\n                <div className=\"amount\">\r\n                ￥{r.amount}  \r\n                </div>\r\n              </Item>\r\n            })}\r\n          </div>\r\n        </div>)}\r\n      </Layout>\r\n    )\r\n  }\r\n\r\nexport default Statistics;","import styled from \"styled-components\";\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  border: none;\r\n  padding: 8px 12px;\r\n  background: #767676;\r\n  border-radius: 4px;\r\n  color:white;\r\n`\r\nexport {Button}","import styled from \"styled-components\";\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n`\r\nexport {Center}","import styled from \"styled-components\";\r\n\r\nconst Space = styled.div`\r\n  height: 16px;\r\n`\r\nexport {Space}","import { Button } from 'components/Button';\r\nimport { Center } from 'components/Center';\r\nimport Icon from 'components/Icon';\r\nimport Layout from 'components/Layout';\r\nimport { Space } from 'components/Space';\r\nimport React from 'react';\r\nimport { useParams,useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useTags } from 'hooks/useTags';\r\n\r\ntype Params = {\r\n    id:string\r\n}\r\n\r\nconst Topbar = styled.header`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    line-height: 20px;\r\n    padding: 14px;\r\n    background: white;\r\n`\r\nconst LabelWrapper = styled.div`\r\n background:white;\r\n  padding:0 16px;\r\n  > label{\r\n    display: flex;\r\n    align-items: center;\r\n    > span{\r\n      margin-right:16px;\r\n      white-space:nowrap;\r\n    }\r\n    >input{\r\n      display: block;\r\n      width:100%;\r\n      height:72px;\r\n      background:none;\r\n      border:none;\r\n    }\r\n  }\r\n`\r\nconst Tag:React.FC = () => {\r\n    const {findTag,updateTag,deleteTag} = useTags()\r\n    let {id:idString} = useParams<Params>()\r\n    const tag = findTag(parseInt(idString))\r\n    const tagContent = (tag:{id:number,name:string})=>(\r\n        <div>\r\n            <LabelWrapper>\r\n                    <label>\r\n                        <span>标签名</span>\r\n                        <input type=\"text\" placeholder=\"标签名\" value={tag.name} onChange={(e)=>{updateTag(tag.id,{name:e.target.value})}}/>\r\n                    </label>\r\n                </LabelWrapper>\r\n                <Center>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Space/>\r\n                    <Button onClick={()=>deleteTag(tag.id)}>删除标签</Button>\r\n                </Center>\r\n        </div>\r\n    )\r\n    const history = useHistory()\r\n    const onClickBack = () => {\r\n       history.goBack()\r\n    }\r\n    return (\r\n        <Layout>\r\n            <Topbar>\r\n                <Icon name=\"left\" onClick={onClickBack}/>\r\n                <span>编辑标签</span>\r\n                <Icon/>\r\n            </Topbar>\r\n            {tag ? tagContent(tag):<Center>tag不存在</Center>}\r\n        </Layout>\r\n    )\r\n}\r\nexport {Tag}","import { Button } from 'components/Button';\r\nimport { Center } from 'components/Center';\r\nimport Icon from 'components/Icon';\r\nimport Layout from 'components/Layout';\r\nimport { Space } from 'components/Space';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { useTags } from 'hooks/useTags';\r\n\r\nconst TagList = styled.ol`\r\n  font-size: 16px;\r\n  background: white;\r\n  > li{\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    margin-left: 16px;\r\n\r\n    > a{\r\n      padding: 12px 16px 12px 0;\r\n      display: flex;\r\n      justify-content:space-between;\r\n      align-items:center;\r\n    }\r\n  }\r\n`\r\n\r\nfunction Tags() {\r\n  const {tags,AddTag} = useTags()\r\n    return (\r\n      <Layout>\r\n        <TagList>\r\n          {tags.map(tag =>\r\n            <li key={tag.id}>\r\n              <Link to={'/tags/' + tag.id}>\r\n                <span className='oneLine'>{tag.name}</span>\r\n                <Icon name=\"right\" />\r\n              </Link>\r\n            </li>)}\r\n        </TagList>\r\n        <Center>\r\n          <Space/>\r\n          <Space/>\r\n          <Space/>\r\n          <Button onClick={AddTag}>新增标签</Button>\r\n        </Center>\r\n      </Layout>\r\n    )\r\n  }\r\n\r\nexport default Tags;","import React from 'react';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n  Redirect\n} from \"react-router-dom\";\nimport styled from 'styled-components';\nimport Money from 'views/Money';\nimport NoMatch from 'views/NoMatch';\nimport Statistics from 'views/Statistics';\nimport { Tag } from 'views/Tag';\nimport Tags from 'views/Tags';\n\nconst AppWrapper = styled.div`\n  color:#333;\n  max-width: 520px;\n  margin: 0 auto;\n`\nfunction App() {\n  return (\n    <AppWrapper>\n      <Router>\n      <Switch>\n        <Route exact path=\"/tags/:id\">\n          <Tag />\n        </Route>\n        <Route exact path=\"/tags\">\n          <Tags />\n        </Route>\n        <Route exact path=\"/money\">\n          <Money />\n        </Route>\n        <Route exact path=\"/statistics\">\n          <Statistics />\n        </Route>\n        <Redirect exact from=\"/\" to=\"/money\" />\n        <Route path=\"*\">\n          <NoMatch />\n        </Route>\n      </Switch>\n    </Router>\n    </AppWrapper>\n  );\n}\n\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}